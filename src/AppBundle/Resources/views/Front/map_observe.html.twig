{% extends "layout/layout.html.twig" %}

{% block body %}
<div class="row map-container">
    <div class="page_title">
        <center><h2>Observation</h2></center>
    </div>
    <div id="map-observe"></div>
    <div id="loading" style="display:none">
    	<p>
			{% image '@AppBundle/Resources/public/images/loading.gif' %}
    			<img src="{{ asset_url }}">
    		{% endimage %}
    		Chargement...
    	</p>
	</div>
</div>


<script type="text/javascript">
    var latitudeObserved = {{ observation.address.lat }};
    var longitudeObserved = {{ observation.address.lng }};
    var birdObserved = '{{ observation.bird.nomVer }}';
    var nbObserved = {{ observation.nbObserved }};
    var dateObserved = '{{ observation.date | date('Y-m-d H:i:s') }}';
    var imgObserved = '{{ vich_uploader_asset(observation, 'imageFile') }}';
</script>

{% javascripts '@AppBundle/Resources/public/js/front/map/init_observe.js' %}
	<script src="{{ asset_url }}"></script>
{% endjavascripts %}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCGfq5n1vQSGUbBjqfEPaKBXMp81UcrvOU&callback=initMap" async defer></script>

{% endblock %}
